{"version":3,"file":"errTranslations.a1533dab.js","sources":["../../vite/modulepreload-polyfill","../../../../libs/jsx6/src/core.js","../../../../libs/jsx6/src/dirty.js","../../../../libs/jsx6/src/toDomNode.js","../../../../libs/jsx6/src/insert.js","../../../../libs/jsx6/src/Jsx6.js","../../../../libs/jsx6/src/setAttribute.js","../../../../libs/jsx6/src/insertHtml.js","../../../../libs/jsx6/src/errTranslations.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export const ERR_REQUIRE_FUNC = 7 //    JSX6E7 - Function required\r\nexport const ERR_REQUIRE_PARENT = 8 //    JSX6E8 - parent required\r\n// MAX export const ERR_REQUIRE_PARENT = 8 //    JSX6E8 - parent required\r\n\r\nconst TRANS = {}\r\n\r\nexport class Group {}\r\n\r\nexport function setTranslations(trans) {\r\n  Object.assign(TRANS, trans)\r\n}\r\n\r\nexport function t(code) {\r\n  return TRANS[code] || code\r\n}\r\n\r\nexport const errorMessage = c => t('JSX6E' + c)\r\n\r\nexport const throwErr = (c, info) => {\r\n  const msg = errorMessage(c)\r\n  console.error(msg, info)\r\n  throw new Error(msg)\r\n}\r\n\r\nexport const NOT = v => !v\r\nexport const BOOL = v => !!v\r\n\r\nexport const isFunc = f => typeof f === 'function'\r\nexport const isStr = s => typeof s === 'string'\r\nexport const isObj = o => typeof o === 'object'\r\nexport const isArray = a => a instanceof Array\r\nexport const isNode = a => a.nodeType !== undefined // using 'instanceof Node' is not reliable if checking an element from a different frame\r\n\r\nexport const requireFunc = (func, err = ERR_REQUIRE_FUNC) => {\r\n  if (!func || !isFunc(func)) {\r\n    throwErr(err, { func })\r\n  }\r\n  return func\r\n}\r\n\r\nexport const runFunc = (f, args = []) => {\r\n  try {\r\n    f(...args)\r\n  } catch (e) {\r\n    console.error(e, f, args)\r\n  }\r\n}\r\n","import { runFunc, throwErr, isObj, requireFunc, isFunc } from './core.js'\r\n\r\nconst ERR_DIRTY_RECURSION = 4 //  JSX6E4 - not allowed to trigger dirty values during dirty update dispatch to avoid infinite updates\r\nconst ERR_DIRTY_RUNNER_FUNC = 5 //  JSX6E5 - dirty runner must be a function\r\nconst ERR_MUST_CALL_BINDING = 6 //  JSX6E6 - If you are seeing this, you forgot to call a binding as a function, or tried to call binding.toString() /.\r\n\r\nconst dirty = new Set()\r\nlet hasDirty = false\r\nlet isRunning = false\r\nlet anim\r\n\r\nif (typeof document !== 'undefined') {\r\n  anim = window.requestAnimationFrame\r\n}\r\n\r\nexport function setAnimFunction(animFunc) {\r\n  anim = animFunc\r\n}\r\n\r\nexport function callAnim(callback) {\r\n  anim(callback)\r\n}\r\n\r\nexport function eq(...args) {\r\n  if (args.length > 1) {\r\n    return value(args[0]) === value(args[1])\r\n  }\r\n  return other => value(args[0]) === value(other)\r\n}\r\n\r\nexport function value(v) {\r\n  return v && isFunc(v) ? v() : v\r\n}\r\nexport function addDirty(func) {\r\n  if (isRunning) throwErr(ERR_DIRTY_RECURSION)\r\n  if (func instanceof Array) {\r\n    func.forEach(addDirty)\r\n    return\r\n  }\r\n  requireFunc(func, ERR_DIRTY_RUNNER_FUNC)\r\n\r\n  dirty.add(func)\r\n  if (!hasDirty) {\r\n    // once first dirty is marked, request animation frame, but only once\r\n    hasDirty = true\r\n    callAnim(runDirty)\r\n  }\r\n}\r\n\r\nexport function runDirty() {\r\n  isRunning = true\r\n  dirty.forEach(f => runFunc(f))\r\n  dirty.clear()\r\n  hasDirty = false\r\n  isRunning = false\r\n}\r\n\r\nfunction runUpdaters(updaters, args) {\r\n  updaters.forEach(u => u(...args))\r\n}\r\n\r\nexport function makeBinding(initialValue, propName, obj, alsoSetBindProp) {\r\n  const updaters = []\r\n  let value = initialValue\r\n\r\n  function bindingFunc(v) {\r\n    if (isFunc(v)) {\r\n      return asBinding(() => v(value), obj, propName, updaters)\r\n    }\r\n    if (arguments.length) updateValue(value)\r\n    return value\r\n  }\r\n\r\n  const binding = asBinding(bindingFunc, obj, propName, updaters)\r\n  const updateValue = v => {\r\n    if (v !== value) {\r\n      value = v\r\n      binding.dirty()\r\n    }\r\n  }\r\n\r\n  if (obj) {\r\n    Object.defineProperty(obj, propName, {\r\n      get: () => value,\r\n      set: updateValue,\r\n    })\r\n  }\r\n\r\n  if (obj && alsoSetBindProp) obj['$' + propName] = bindingFunc\r\n\r\n  return binding\r\n}\r\n\r\nfunction asBinding(func, state, prop, updaters) {\r\n  func.isBinding = true\r\n  func.update = f => (state[prop] = f(state[prop]()))\r\n  func.addUpdater = u => updaters.push(v => u(func(v)))\r\n  func.sync = f => {\r\n    f(state[prop]())\r\n    updaters.push(() => f(state[prop]()))\r\n  }\r\n  func.dirty = () => {\r\n    if (updaters.length) addDirty(() => runUpdaters(updaters, [state[prop]]))\r\n  }\r\n  func.state = state\r\n  func.propName = prop\r\n  return func\r\n}\r\n\r\nexport function makeState(_state = {}, markDirtyNow) {\r\n  const updaters = []\r\n  const perPropUpdaters = {}\r\n  const perPropUpdaterRunner = {}\r\n  const bindings = {}\r\n  const lastData = new Map()\r\n\r\n  function runUpdaters() {\r\n    const len = updaters.length\r\n    for (let i = 0; i < len; i++) {\r\n      try {\r\n        updaters[i](bindingsProxy, lastData, state)\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    }\r\n    lastData.clear()\r\n  }\r\n\r\n  function _addDirty() {\r\n    if (updaters.length) addDirty(runUpdaters)\r\n  }\r\n\r\n  const handler = {\r\n    set: function (target, prop, value, receiver) {\r\n      if (updateProp(prop, value)) _addDirty()\r\n      return true\r\n    },\r\n    get: function (target, prop) {\r\n      return _state[prop]\r\n    },\r\n  }\r\n\r\n  const state = new Proxy(_state, handler)\r\n  const bindingsProxy = new Proxy(bindingFunc, {\r\n    set: function (target, prop, value, receiver) {\r\n      if (updateProp(prop, value)) _addDirty()\r\n      return true\r\n    },\r\n    get: function (target, prop) {\r\n      if (prop === 'toJSON') return () => _state\r\n      if (prop === Symbol.iterator) return all[Symbol.iterator].bind(all)\r\n\r\n      if (!bindings[prop]) {\r\n        perPropUpdaters[prop] = []\r\n        perPropUpdaterRunner[prop] = () => perPropUpdaters[prop].forEach(f => runFunc(f, [_state[prop]]))\r\n        const func = function (value) {\r\n          if (arguments.length !== 0) {\r\n            if (isFunc(value)) {\r\n              return filterFunc(value)\r\n            }\r\n            if (updateProp(prop, value)) _addDirty()\r\n          }\r\n          return _state[prop]\r\n        }\r\n        const filterFunc = filter =>\r\n          asBinding(() => filter(_state[prop]), bindingsProxy, prop, perPropUpdaters[prop])\r\n        func.get = func.set = func.toString = func\r\n        // func.toString = () => throwErr(ERR_MUST_CALL_BINDING, prop)\r\n        bindings[prop] = asBinding(func, bindingsProxy, prop, perPropUpdaters[prop])\r\n      }\r\n      return bindings[prop]\r\n    },\r\n  })\r\n  const all = [bindingsProxy, state, _state]\r\n\r\n  function bindingFunc(f) {\r\n    if (!arguments.length) {\r\n      return $\r\n    } else if (isFunc(f)) {\r\n      const out = () => f(_state)\r\n      out.addUpdater = updater => updaters.push(requireFunc(updater, ERR_DIRTY_RUNNER_FUNC))\r\n      return out\r\n    } else if (isObj(f)) {\r\n      $.update(f)\r\n    } else {\r\n      // todo chekc if there is even a use-case\r\n      // _addDirty()\r\n      return f\r\n    }\r\n  }\r\n\r\n  function updateProp(p, value, force) {\r\n    if (force || _state[p] !== value) {\r\n      lastData.set(p, _state[p])\r\n      _state[p] = value\r\n      if (perPropUpdaters[p]) addDirty(perPropUpdaterRunner[p])\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  function $() {\r\n    return state\r\n  }\r\n  Object.defineProperty($, 'value', {\r\n    get: $,\r\n  })\r\n  $.toJSON = () => _state\r\n  $.push = $.addUpdater = updater => updaters.push(updater)\r\n  $.dirty = _addDirty\r\n  $.getValue = () => ({ ..._state })\r\n  $.list = updaters\r\n  $.update = (newData, force) => {\r\n    if (!newData) return\r\n    let changed = false\r\n    for (const p in newData) {\r\n      changed |= updateProp(p, newData[p], force)\r\n    }\r\n    if (changed) _addDirty()\r\n  }\r\n  $.replace = (newData, force) => {\r\n    if (!newData) return\r\n    let changed = false\r\n    for (const p in newData) {\r\n      changed |= updateProp(p, newData[p], force)\r\n    }\r\n    for (const p in _state) {\r\n      if (!(p in newData)) {\r\n        changed |= updateProp(p, undefined, force)\r\n      }\r\n    }\r\n    if (changed) _addDirty()\r\n  }\r\n\r\n  if (markDirtyNow) _addDirty()\r\n\r\n  return bindingsProxy\r\n}\r\n","export function toDomNode(n) {\r\n  return n && n.isJsx6 ? n.el : n\r\n}\r\n","import { throwErr, ERR_REQUIRE_PARENT } from './core.js'\r\nimport { toDomNode } from './toDomNode.js'\r\n\r\nexport function insert(parent, newChild, before) {\r\n  if (newChild instanceof Array) {\r\n    return newChild.map(c => insert(parent, c, before))\r\n  }\r\n  if (!parent) throwErr(ERR_REQUIRE_PARENT, { parent, newChild, before })\r\n  const _parent = parent.insertBefore ? parent : toDomNode(parent)\r\n\r\n  if (!_parent.insertBefore) console.error('missing insertBefore', _parent, parent)\r\n  if (newChild.__init) {\r\n    newChild.__init(parent)\r\n  }\r\n  try {\r\n    let _newChild = toDomNode(newChild)\r\n    if (_newChild instanceof Array) _newChild = _newChild[0]\r\n    _parent.insertBefore(_newChild, toDomNode(before))\r\n  } catch (error) {\r\n    console.error('parent', parent, 'newChild', newChild, 'before', before)\r\n    throw error\r\n  }\r\n  return newChild\r\n}\r\n\r\nexport const addToBody = n => insert(document.body, n)\r\n","import { makeState } from './dirty.js'\r\nimport { insert } from './insert.js'\r\nimport { insertHtml, insertAttr, h } from './insertHtml.js'\r\nimport { isObj } from './core.js'\r\n\r\n/**\r\n * @typedef {Object} Jsx6Extras\r\n * @class\r\n * @mixin\r\n * @property {string} XXL - xxl prop\r\n *\r\n */\r\n\r\n/**\r\n * @mixes Jsx6Extras\r\n * @class\r\n */\r\nexport class Jsx6 {\r\n  isJsx6 = true\r\n  el\r\n  contentArea\r\n  propKey\r\n  groupKey\r\n  parent\r\n  tagName = 'DIV'\r\n  cName = ''\r\n  state = {}\r\n\r\n  constructor(attr, children, parent) {\r\n    attr ||= {}\r\n    // TODO make readonly using Object.defineProperty ... after making utility function for it\r\n    this.$h = h.bind(this)\r\n    // if(attr.if){\r\n    //   const ifValue = attr.if\r\n    //   delete attr.if\r\n    //   attr.hidden = isFunc(ifValue) ? v=>!ifValue() : !ifValue\r\n    // }\r\n    this.attr = attr\r\n    this.children = children\r\n    this.parent = parent\r\n\r\n    if (attr.tagName !== undefined) {\r\n      this.tagName = attr.tagName\r\n      delete attr.tagName\r\n    }\r\n  }\r\n\r\n  __init(parent, before) {\r\n    if (this.__initialized) return\r\n    this.createEl()\r\n    this.initTemplate()\r\n    this.insertChildren()\r\n    insert(parent, this.el, before)\r\n    this.init(this.state)\r\n    this.__initialized = true\r\n  }\r\n\r\n  setParent(parent) {\r\n    if (parent === window) console.error('window as parent ', this)\r\n    this.parent = parent\r\n  }\r\n\r\n  createEl() {\r\n    this.initState()\r\n    if (!this.tagName) {\r\n      this.el = [document.createTextNode('')]\r\n    } else {\r\n      this.el = insertHtml(null, null, { tag: this.tagName }, this)\r\n      if (this.cName) this.classList.add(this.cName)\r\n    }\r\n    this.insertAttr(this.attr)\r\n    this.contentArea ||= this.el\r\n\r\n    this.el.propKey = this.propKey\r\n    this.el.groupKey = this.groupKey\r\n  }\r\n\r\n  insertAttr(attr) {\r\n    insertAttr(attr, this.el, this.parent, this)\r\n  }\r\n\r\n  initState() {\r\n    if (this.state) {\r\n      this.state = makeState(this.state)\r\n    }\r\n  }\r\n\r\n  created() {}\r\n  destroy() {\r\n    delete this.el.component\r\n  }\r\n  destroyed() {}\r\n\r\n  initTemplate() {\r\n    let def = this.tpl(this.$h, this.state, this.state()(), this)\r\n    if (def) {\r\n      let parent = this.el\r\n      let before = null\r\n      if (this.el instanceof Array) {\r\n        before = this.el[0]\r\n        parent = before.parentNode\r\n      }\r\n      insertHtml(parent, before, def, this)\r\n      return def\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param h - jsx factory\r\n   * @param state - state object\r\n   * @param $ - state binding proxy\r\n   * @param self - reference to this\r\n   */\r\n  tpl(h, state, $state, self) {}\r\n\r\n  insertChildren() {\r\n    insertHtml(this.contentArea, null, this.children, this)\r\n  }\r\n\r\n  init() {}\r\n\r\n  get value() {\r\n    return this.getValue()\r\n  }\r\n  getValue() {\r\n    return this.jsx6SingleValue ? this.state.value() : this.state().getValue()\r\n  }\r\n\r\n  set value(value) {\r\n    this.setValue(value)\r\n  }\r\n  setValue(value) {\r\n    if (value === null || value === undefined) value = {}\r\n    if (value && isObj(value)) {\r\n      this.jsx6SingleValue = false\r\n      this.state().replace(value)\r\n    } else {\r\n      this.jsx6SingleValue = true\r\n      this.state().replace({ value })\r\n    }\r\n  }\r\n\r\n  addEventListener(name, callback) {\r\n    this.el.addEventListener(name, callback)\r\n  }\r\n\r\n  getAttribute(attr) {\r\n    return this.el.getAttribute(attr)\r\n  }\r\n  setAttribute(attr, value) {\r\n    return this.el.setAttribute(attr, value)\r\n  }\r\n  hasAttribute(attr) {\r\n    return this.el.hasAttribute(attr)\r\n  }\r\n  removeAttribute(attr) {\r\n    return this.el.removeAttribute(attr)\r\n  }\r\n  getBoundingClientRect() {\r\n    return this.el.getBoundingClientRect()\r\n  }\r\n  appendChild(c) {\r\n    insert(this.el, c)\r\n  }\r\n  insertBefore(c, before) {\r\n    if (this.el instanceof Array) {\r\n      const el = this.el[0]\r\n      this.el.push(insert(el.parentNode, c, el))\r\n    } else {\r\n      insert(this.contentArea || this.el, c, before)\r\n    }\r\n  }\r\n\r\n  get classList() {\r\n    return this.el.classList\r\n  }\r\n  get style() {\r\n    return this.el.style\r\n  }\r\n  get innerHTML() {\r\n    return this.el.innerHTML\r\n  }\r\n  get textContent() {\r\n    return this.el.textContent\r\n  }\r\n}\r\n\r\nJsx6.isComponentClass = true\r\n","/**\r\n *  - [null,undefined,false] will remove the attribute\r\n *  - false will set value to be attrName\r\n * @param {Node} node\r\n * @param {String} attrName attribute name\r\n * @param {any} newValue\r\n */\r\nexport function setAttribute(node, attrName, newValue) {\r\n  if (newValue === false || newValue === undefined) newValue = null\r\n  if (newValue === true) newValue = attrName\r\n  if (node.getAttribute(attrName) !== newValue) {\r\n    if (newValue === null) {\r\n      node.removeAttribute(attrName)\r\n    } else {\r\n      node.setAttribute(attrName, newValue)\r\n    }\r\n  }\r\n}\r\n","import { Jsx6 } from './Jsx6'\r\nimport { insert } from './insert'\r\nimport { isStr, isFunc, isObj, throwErr, Group, isNode } from './core'\r\nimport { setAttribute } from './setAttribute'\r\n\r\nconst NO_CONTEXT = {}\r\n\r\nlet _createText\r\nlet _createElement\r\nlet _createElementSvg\r\n\r\n/**\r\n * @typedef TagDef\r\n * @property tag {String|Function}\r\n * @property attr {Object}\r\n * @property children {Array<String|Function|TagDef>}\r\n */\r\n\r\n/* Error codes are intentionally not kept in the source, but unique numerical code is chosen for each\r\nerror is thrown using translation, so translations of errors can be included if desired in dev only\r\nor also in production if so desired. The choice is yours :)\r\n*/\r\nconst ERR_NULL_TAG = 1 //           JSX6E1 - Tag is null\r\nconst ERR_UNSUPPORTED_TAG = 2 //    JSX6E2 - Tag type is not supported\r\nconst ERR_LISTENER_MUST_BE_FUNC = 9 //    JSX6E9 - Event listener must be a function\r\nconst ERR_CONTEXT_REQUIRED = 10 // JSX6E10 Context to assign references required\r\n\r\nif (typeof document !== 'undefined') {\r\n  _createText = t => document.createTextNode(t)\r\n  _createElementSvg = t =>\r\n    t ? document.createElementNS('http://www.w3.org/2000/svg', t) : throwErr(ERR_NULL_TAG)\r\n  _createElement = (t, o) => (t ? document.createElement(t, o) : throwErr(ERR_NULL_TAG))\r\n}\r\n\r\nexport function setHtmlFunctions(createTextNode, createElement, createElementSvg) {\r\n  _createText = createTextNode\r\n  _createElement = createElement\r\n  _createElementSvg = createElementSvg\r\n}\r\n\r\n/** JSX factory to enable useful use-cases for JSX.\r\n - if tag is null - return children (this is for fragment support)\r\n - if tag is a string - just generates TagDef to be inserted\r\n - if tag is a function with isComponentClass=true  - it is called as constructor\r\n - if tag is a function with isComponentClass=false - it is treated as a template and\r\n is injected into an anonymous Jsx6 component\r\n*/\r\nexport function tpl(tag, attr = {}, ...children) {\r\n  return make(true, this, tag, attr, children)\r\n}\r\n\r\nfunction make(asTpl, _self, tag, attr = {}, ...children) {\r\n  if (!tag) return children // supoprt for jsx fragment (esbuild: --jsx-fragment=null)\r\n\r\n  if (isStr(tag)) {\r\n    if (asTpl) {\r\n      return { tag, attr, children }\r\n    } else {\r\n      const out = _createElement(tag)\r\n      insertAttr(attr, out, _self)\r\n      if (children && children.length) insertHtml(out, null, children, _self)\r\n      return out\r\n    }\r\n  } else {\r\n    if (isFunc(tag)) {\r\n      attr = attr || {} // so the functions need not worry if attr is null\r\n      // declaring default value in receiving function does not help, so we clean the value to avoid runtime errors\r\n      // leaving attr == null might have some benefit in knowing there are no attributes, but the downside is greater\r\n      return tag.prototype ? new tag(attr, children, _self) : tag(attr, children, _self)\r\n    } else {\r\n      // not sure what else to enable if tag is type of object\r\n      // this may be expanded in the future to allow more capabilities\r\n      throwErr(ERR_UNSUPPORTED_TAG, tag)\r\n    }\r\n  }\r\n}\r\n\r\nfunction _h2(tag, attr = {}, ...children) {\r\n  return make(false, this, tag, attr, ...children)\r\n}\r\n\r\n// we bind the exported variant to a constant so it can check if property assignment is used without a context\r\nexport const h = _h2.bind(NO_CONTEXT)\r\n// hack to make calling bind on already bound function possible, and actually binding to the new scope\r\n// without this a function that is already created by .bind would keep the initial scope\r\nh.bind = s => {\r\n  const out = _h2.bind(s)\r\n  out.bind = h.bind\r\n  return out\r\n}\r\n\r\n/*\r\n// sample code that demonstrates the binding trick above\r\nvar x = {n:'x'}, y = {n:'y'}, z = {n:'z'}\r\nfunction n(){ return this.n}\r\nvar nx = n.bind(x)\r\n\r\n// comment out next line and console.log will output: 'x x x' instead of 'x y z'\r\nnx.bind = s=>{ let out = n.bind(s); out.bind = nx.bind; return out; }\r\n\r\nvar ny = nx.bind(y)\r\nvar nz = ny.bind(z)\r\nconsole.log(nx(),ny(),nz())\r\n*/\r\n\r\nexport function domWithScope(scope, f) {\r\n  return f(h.bind(scope))\r\n}\r\nexport function domToProps(f) {\r\n  const scope = {}\r\n  f(h.bind(scope))\r\n  return scope\r\n}\r\n\r\nexport const svg = callback => callback(toSvg)\r\n\r\nfunction toSvg(tag, attr = {}, ...children) {\r\n  if (!tag) return children // supoprt for jsx fragment (esbuild: --jsx-fragment=null)\r\n  const out = _createElementSvg(tag)\r\n  insertAttr(attr, out)\r\n  insertHtml(out, null, children, this, null, _createElementSvg)\r\n  return out\r\n}\r\n\r\nexport function insertSvg(\r\n  parent,\r\n  before,\r\n  def,\r\n  _self = this,\r\n  component = null,\r\n  createElement = _createElement,\r\n) {\r\n  return insertHtml(parent, before, def, _self, component, _createElementSvg)\r\n}\r\n\r\nfunction textValue(v) {\r\n  if (v === null || v === undefined) return ''\r\n  if (!isStr(v)) return '' + v\r\n  return v\r\n}\r\n\r\nexport function insertHtml(\r\n  parent,\r\n  before,\r\n  def,\r\n  _self = this,\r\n  component = null,\r\n  createElement = _createElement,\r\n) {\r\n  // component parameter is not forwarded to recursive calls on purpose as it is used only for inital element\r\n  if (!def) return\r\n  /** @type {Jsx6|Node} */\r\n  let out\r\n  if (isFunc(def)) {\r\n    out = _createText(textValue(def()))\r\n    if (parent) insert(parent, out, before)\r\n    makeUpdater(out, before, null, def, _self)\r\n  } else if (def instanceof Array) {\r\n    out = def.map(c => insertHtml(parent, before, c, _self, null, createElement))\r\n  } else if (def instanceof Jsx6) {\r\n    def.setParent(_self)\r\n    def.__init(parent, before)\r\n    return def\r\n  } else if (isNode(def)) {\r\n    if (parent) insert(parent, def, before)\r\n  } else if (isObj(def)) {\r\n    if (isSvg(def.tag) || isSvg(parent?.tagName)) createElement = _createElementSvg\r\n\r\n    const toObserve = def.then || def.next\r\n    if (toObserve) {\r\n      // support for promise(.then) or observable(.next) values\r\n      out = _createText('aaaa')\r\n      toObserve.call(def, r => (out.textContent = r))\r\n      if (parent) insert(parent, out, before)\r\n    } else {\r\n      if (!def.tag) throwErr(ERR_NULL_TAG, def)\r\n      out = createElement(def.tag)\r\n      insertAttr(def.attr, out, _self, component)\r\n      if (parent) insert(parent, out, before)\r\n\r\n      if (def.children && def.children.length) {\r\n        insertHtml(out, null, def.children, _self, null, createElement)\r\n      }\r\n    }\r\n  } else {\r\n    out = _createText('' + def)\r\n    if (parent) insert(parent, out, before)\r\n  }\r\n  return out\r\n}\r\n\r\nexport function isSvg(tag) {\r\n  return tag && tag.toUpperCase() === 'SVG'\r\n}\r\n\r\n/*\r\nneed to update\r\n - attrib\r\n - node - only text for now\r\nneed to refresh the value\r\n - call the function to recalc\r\n - add the updater as listener for changes (state change, etc)\r\n - default is change handler of the parent component\r\n*/\r\nexport function makeUpdater(parent, before, attr, func, updaters) {\r\n  if (updaters instanceof Jsx6) {\r\n    updaters = updaters.state()\r\n  }\r\n\r\n  let updater\r\n  if (func.makeUpdater) {\r\n    updater = func.makeUpdater(parent, before, attr, func, updaters)\r\n  } else {\r\n    if (attr) {\r\n      updater = makeAttrUpdater(parent, attr, func, updaters)\r\n    } else {\r\n      updater = makeNodeUpdater(parent, func)\r\n    }\r\n\r\n    if (func.addUpdater) {\r\n      func.addUpdater(updater)\r\n    } else {\r\n      updaters.push(updater)\r\n    }\r\n  }\r\n}\r\n\r\nexport function makeNodeUpdater(node, func) {\r\n  const ret = function () {\r\n    const newValue = textValue(func())\r\n    if (node.textContent !== newValue) node.textContent = newValue\r\n  }\r\n  ret.node = node\r\n  return ret\r\n}\r\n\r\nexport function makeAttrUpdater(node, attr, func) {\r\n  const out = function () {\r\n    setAttribute(node, attr, func())\r\n  }\r\n  out.node = node\r\n  out.attr = attr\r\n  out.func = func\r\n  out() // set initial value for the attribute\r\n  return out\r\n}\r\n\r\nexport function insertAttr(attr, out, self, component) {\r\n  if (!attr) return\r\n\r\n  for (const a in attr) {\r\n    const value = attr[a]\r\n\r\n    if (a[0] === 'o' && a[1] === 'n') {\r\n      if (isFunc(value)) {\r\n        out.addEventListener(a.substring(2), value.bind(self))\r\n      } else {\r\n        throwErr(ERR_LISTENER_MUST_BE_FUNC, attr)\r\n      }\r\n    } else if (a === 'key') {\r\n      out.loopKey = value\r\n      if (!out.$key) {\r\n        out.$key = value\r\n      }\r\n      if (component) {\r\n        if (!component.$key) {\r\n          component.$key = value\r\n        }\r\n        component.loopKey = value\r\n      }\r\n    } else if (isFunc(value)) {\r\n      makeUpdater(out, null, a, value, self)\r\n    } else {\r\n      if (a === 'p') {\r\n        setPropGroup(self, component || out, isStr(value) ? value.split('.') : value)\r\n      }\r\n      if (out.setAttribute)\r\n        setAttribute(out, a, a === 'p' && value instanceof Array ? value.join('.') : value)\r\n    }\r\n  }\r\n}\r\n\r\nfunction setPropGroup(self, part, [$group, $key]) {\r\n  if (self === NO_CONTEXT) throw throwErr(ERR_CONTEXT_REQUIRED)\r\n  if ($key) {\r\n    if (!self[$group]) self[$group] = new Group()\r\n    self[(part.$group = $group)][(part.$key = $key)] = part\r\n  } else {\r\n    self[(part.$key = $group)] = part\r\n  }\r\n}\r\n\r\n/** To simplify, we just clear the element and add new nodes (no vnode diff is performed) */\r\nexport function applyHtml(parent, def, self = this) {\r\n  if (isStr(parent)) parent = document.getElementById(parent)\r\n\r\n  function destroy(el) {\r\n    let ch = el.firstElementChild\r\n    while (ch) {\r\n      destroy(ch)\r\n      ch = ch.nextElementSibling\r\n    }\r\n    el?.component?.destroy()\r\n  }\r\n  destroy(parent)\r\n  parent.innerHTML = ''\r\n  insertHtml(parent, null, def, self)\r\n}\r\n","export default {\r\n  JSX6E1: 'Tag is null',\r\n  JSX6E2: 'Tag type is not supported',\r\n  JSX6E3: 'Translation updater must be a function',\r\n  JSX6E4: 'updater undefined',\r\n  JSX6E5: 'dirty runner must be a function',\r\n  JSX6E6:\r\n    'If you are seeing this, you are using a binding function wrong\\n - used $state instead state in template \\n - called binding.toString()\\nproperty that was used wrongly:',\r\n  JSX6E7: 'Function required',\r\n  JSX6E8: 'Parent required',\r\n  JSX6E9: 'Event listener must be a function ',\r\n  JSX6E10:\r\n    'Context to assign references required, if you want to assign parts of the template to named props, please provide a scope by using domWithScope utility',\r\n}\r\n"],"names":[],"mappings":"wKAAA,KAAM,IAAI,UAAoB,CAC1B,KAAM,GAAU,SAAS,cAAc,MAAM,EAAE,QAC/C,GAAI,GAAW,EAAQ,UAAY,EAAQ,SAAS,eAAe,EAC/D,OAEJ,SAAW,KAAQ,UAAS,iBAAiB,2BAA2B,EACpE,EAAe,CAAI,EAEvB,GAAI,kBAAiB,AAAC,GAAc,CAChC,SAAW,KAAY,GACnB,GAAI,EAAS,OAAS,YAGtB,SAAW,KAAQ,GAAS,WACxB,AAAI,EAAK,UAAY,QAAU,EAAK,MAAQ,iBACxC,EAAe,CAAI,CAGvC,CAAK,EAAE,QAAQ,SAAU,CAAE,UAAW,GAAM,QAAS,EAAI,CAAE,EACvD,WAAsB,EAAQ,CAC1B,KAAM,GAAY,CAAA,EAClB,MAAI,GAAO,WACP,GAAU,UAAY,EAAO,WAC7B,EAAO,gBACP,GAAU,eAAiB,EAAO,gBACtC,AAAI,EAAO,cAAgB,kBACvB,EAAU,YAAc,UACvB,AAAI,EAAO,cAAgB,YAC5B,EAAU,YAAc,OAExB,EAAU,YAAc,cACrB,CACV,CACD,WAAwB,EAAM,CAC1B,GAAI,EAAK,GAEL,OACJ,EAAK,GAAK,GAEV,KAAM,GAAY,EAAa,CAAI,EACnC,MAAM,EAAK,KAAM,CAAS,CAC7B,CACL,EAAE,AAAoB,GAAG,EC1ClB,KAAM,IAAmB,EACnB,GAAqB,EAG5B,EAAQ,CAAE,EAET,MAAM,EAAM,CAAE,CAEd,YAAyB,EAAO,CACrC,OAAO,OAAO,EAAO,CAAK,CAC5B,CAEO,YAAW,EAAM,CACtB,MAAO,GAAM,IAAS,CACxB,CAEO,KAAM,IAAe,GAAK,GAAE,QAAU,CAAC,EAEjC,EAAW,CAAC,EAAG,IAAS,CACnC,KAAM,GAAM,GAAa,CAAC,EAC1B,cAAQ,MAAM,EAAK,CAAI,EACjB,GAAI,OAAM,CAAG,CACrB,EAKa,EAAS,GAAK,MAAO,IAAM,WAC3B,EAAQ,GAAK,MAAO,IAAM,SAC1B,EAAQ,GAAK,MAAO,IAAM,SAE1B,GAAS,GAAK,EAAE,WAAa,OAE7B,EAAc,CAAC,EAAM,EAAM,KAClC,GAAC,GAAQ,CAAC,EAAO,CAAI,IACvB,EAAS,EAAK,CAAE,OAAM,EAEjB,GAGI,EAAU,CAAC,EAAG,EAAO,KAAO,CACvC,GAAI,CACF,EAAE,GAAG,CAAI,CACV,OAAQ,EAAP,CACA,QAAQ,MAAM,EAAG,EAAG,CAAI,CACzB,CACH,EC5CM,GAAsB,EACtB,EAAwB,EAGxB,EAAQ,GAAI,KAClB,GAAI,GAAW,GACX,EAAY,GACZ,EAEJ,AAAI,MAAO,UAAa,KACtB,GAAO,OAAO,uBAOT,YAAkB,EAAU,CACjC,EAAK,CAAQ,CACf,CAYO,WAAkB,EAAM,CAE7B,GADI,GAAW,EAAS,EAAmB,EACvC,YAAgB,OAAO,CACzB,EAAK,QAAQ,CAAQ,EACrB,MACD,CACD,EAAY,EAAM,CAAqB,EAEvC,EAAM,IAAI,CAAI,EACT,GAEH,GAAW,GACX,GAAS,EAAQ,EAErB,CAEO,aAAoB,CACzB,EAAY,GACZ,EAAM,QAAQ,GAAK,EAAQ,CAAC,CAAC,EAC7B,EAAM,MAAO,EACb,EAAW,GACX,EAAY,EACd,CAEA,YAAqB,EAAU,EAAM,CACnC,EAAS,QAAQ,GAAK,EAAE,GAAG,CAAI,CAAC,CAClC,CAkCA,WAAmB,EAAM,EAAO,EAAM,EAAU,CAC9C,SAAK,UAAY,GACjB,EAAK,OAAS,GAAM,EAAM,GAAQ,EAAE,EAAM,GAAK,CAAE,EACjD,EAAK,WAAa,GAAK,EAAS,KAAK,GAAK,EAAE,EAAK,CAAC,CAAC,CAAC,EACpD,EAAK,KAAO,GAAK,CACf,EAAE,EAAM,IAAO,EACf,EAAS,KAAK,IAAM,EAAE,EAAM,GAAK,CAAE,CAAC,CACrC,EACD,EAAK,MAAQ,IAAM,CACjB,AAAI,EAAS,QAAQ,EAAS,IAAM,GAAY,EAAU,CAAC,EAAM,EAAK,CAAC,CAAC,CACzE,EACD,EAAK,MAAQ,EACb,EAAK,SAAW,EACT,CACT,CAEO,YAAmB,EAAS,CAAE,EAAE,EAAc,CACnD,KAAM,GAAW,CAAE,EACb,EAAkB,CAAE,EACpB,EAAuB,CAAE,EACzB,EAAW,CAAE,EACb,EAAW,GAAI,KAErB,YAAuB,CACrB,KAAM,GAAM,EAAS,OACrB,OAAS,GAAI,EAAG,EAAI,EAAK,IACvB,GAAI,CACF,EAAS,GAAG,EAAe,EAAU,CAAK,CAC3C,OAAQ,EAAP,CACA,QAAQ,MAAM,CAAK,CACpB,CAEH,EAAS,MAAO,CACjB,CAED,YAAqB,CACnB,AAAI,EAAS,QAAQ,EAAS,CAAW,CAC1C,CAED,KAAM,GAAU,CACd,IAAK,SAAU,EAAQ,EAAM,EAAO,EAAU,CAC5C,MAAI,GAAW,EAAM,CAAK,GAAG,EAAW,EACjC,EACR,EACD,IAAK,SAAU,EAAQ,EAAM,CAC3B,MAAO,GAAO,EACf,CACF,EAEK,EAAQ,GAAI,OAAM,EAAQ,CAAO,EACjC,EAAgB,GAAI,OAAM,EAAa,CAC3C,IAAK,SAAU,EAAQ,EAAM,EAAO,EAAU,CAC5C,MAAI,GAAW,EAAM,CAAK,GAAG,EAAW,EACjC,EACR,EACD,IAAK,SAAU,EAAQ,EAAM,CAC3B,GAAI,IAAS,SAAU,MAAO,IAAM,EACpC,GAAI,IAAS,OAAO,SAAU,MAAO,GAAI,OAAO,UAAU,KAAK,CAAG,EAElE,GAAI,CAAC,EAAS,GAAO,CACnB,EAAgB,GAAQ,CAAE,EAC1B,EAAqB,GAAQ,IAAM,EAAgB,GAAM,QAAQ,GAAK,EAAQ,EAAG,CAAC,EAAO,EAAK,CAAC,CAAC,EAChG,KAAM,GAAO,SAAU,EAAO,CAC5B,GAAI,UAAU,SAAW,EAAG,CAC1B,GAAI,EAAO,CAAK,EACd,MAAO,GAAW,CAAK,EAEzB,AAAI,EAAW,EAAM,CAAK,GAAG,EAAW,CACzC,CACD,MAAO,GAAO,EACf,EACK,EAAa,GACjB,EAAU,IAAM,EAAO,EAAO,EAAK,EAAG,EAAe,EAAM,EAAgB,EAAK,EAClF,EAAK,IAAM,EAAK,IAAM,EAAK,SAAW,EAEtC,EAAS,GAAQ,EAAU,EAAM,EAAe,EAAM,EAAgB,EAAK,CAC5E,CACD,MAAO,GAAS,EACjB,CACL,CAAG,EACK,EAAM,CAAC,EAAe,EAAO,CAAM,EAEzC,WAAqB,EAAG,CACtB,GAAK,UAAU,OAER,GAAI,EAAO,CAAC,EAAG,CACpB,KAAM,GAAM,IAAM,EAAE,CAAM,EAC1B,SAAI,WAAa,GAAW,EAAS,KAAK,EAAY,EAAS,CAAqB,CAAC,EAC9E,CACb,SAAe,EAAM,CAAC,EAChB,EAAE,OAAO,CAAC,MAIV,OAAO,OAVP,OAAO,EAYV,CAED,WAAoB,EAAG,EAAO,EAAO,CACnC,MAAI,IAAS,EAAO,KAAO,EACzB,GAAS,IAAI,EAAG,EAAO,EAAE,EACzB,EAAO,GAAK,EACR,EAAgB,IAAI,EAAS,EAAqB,EAAE,EACjD,IAEF,EACR,CAED,YAAa,CACX,MAAO,EACR,CACD,cAAO,eAAe,EAAG,QAAS,CAChC,IAAK,CACT,CAAG,EACD,EAAE,OAAS,IAAM,EACjB,EAAE,KAAO,EAAE,WAAa,GAAW,EAAS,KAAK,CAAO,EACxD,EAAE,MAAQ,EACV,EAAE,SAAW,IAAO,EAAE,GAAG,CAAM,GAC/B,EAAE,KAAO,EACT,EAAE,OAAS,CAAC,EAAS,IAAU,CAC7B,GAAI,CAAC,EAAS,OACd,GAAI,GAAU,GACd,SAAW,KAAK,GACd,GAAW,EAAW,EAAG,EAAQ,GAAI,CAAK,EAE5C,AAAI,GAAS,EAAW,CACzB,EACD,EAAE,QAAU,CAAC,EAAS,IAAU,CAC9B,GAAI,CAAC,EAAS,OACd,GAAI,GAAU,GACd,SAAW,KAAK,GACd,GAAW,EAAW,EAAG,EAAQ,GAAI,CAAK,EAE5C,SAAW,KAAK,GACd,AAAM,IAAK,IACT,IAAW,EAAW,EAAG,OAAW,CAAK,GAG7C,AAAI,GAAS,EAAW,CACzB,EAEG,GAAc,EAAW,EAEtB,CACT,CC7OO,WAAmB,EAAG,CAC3B,MAAO,IAAK,EAAE,OAAS,EAAE,GAAK,CAChC,CCCO,WAAgB,EAAQ,EAAU,EAAQ,CAC/C,GAAI,YAAoB,OACtB,MAAO,GAAS,IAAI,GAAK,EAAO,EAAQ,EAAG,CAAM,CAAC,EAEpD,AAAK,GAAQ,EAAS,GAAoB,CAAE,SAAQ,WAAU,SAAQ,EACtE,KAAM,GAAU,EAAO,aAAe,EAAS,EAAU,CAAM,EAE/D,AAAK,EAAQ,cAAc,QAAQ,MAAM,uBAAwB,EAAS,CAAM,EAC5E,EAAS,QACX,EAAS,OAAO,CAAM,EAExB,GAAI,CACF,GAAI,GAAY,EAAU,CAAQ,EAClC,AAAI,YAAqB,QAAO,GAAY,EAAU,IACtD,EAAQ,aAAa,EAAW,EAAU,CAAM,CAAC,CAClD,OAAQ,EAAP,CACA,cAAQ,MAAM,SAAU,EAAQ,WAAY,EAAU,SAAU,CAAM,EAChE,CACP,CACD,MAAO,EACT,CAEY,KAAC,IAAY,GAAK,EAAO,SAAS,KAAM,CAAC,ECR9C,MAAM,CAAK,CAWhB,YAAY,EAAM,EAAU,EAAQ,CAVpC,gBAAS,IACT,aACA,sBACA,kBACA,mBACA,iBACA,iBAAU,OACV,eAAQ,IACR,eAAQ,CAAE,GAGR,MAAS,CAAE,GAEX,KAAK,GAAK,EAAE,KAAK,IAAI,EAMrB,KAAK,KAAO,EACZ,KAAK,SAAW,EAChB,KAAK,OAAS,EAEV,EAAK,UAAY,QACnB,MAAK,QAAU,EAAK,QACpB,MAAO,GAAK,QAEf,CAED,OAAO,EAAQ,EAAQ,CACrB,AAAI,KAAK,eACT,MAAK,SAAU,EACf,KAAK,aAAc,EACnB,KAAK,eAAgB,EACrB,EAAO,EAAQ,KAAK,GAAI,CAAM,EAC9B,KAAK,KAAK,KAAK,KAAK,EACpB,KAAK,cAAgB,GACtB,CAED,UAAU,EAAQ,CAChB,AAAI,IAAW,QAAQ,QAAQ,MAAM,oBAAqB,IAAI,EAC9D,KAAK,OAAS,CACf,CAED,UAAW,CACT,KAAK,UAAW,EAChB,AAAK,KAAK,QAGR,MAAK,GAAK,EAAW,KAAM,KAAM,CAAE,IAAK,KAAK,OAAS,EAAE,IAAI,EACxD,KAAK,OAAO,KAAK,UAAU,IAAI,KAAK,KAAK,GAH7C,KAAK,GAAK,CAAC,SAAS,eAAe,EAAE,CAAC,EAKxC,KAAK,WAAW,KAAK,IAAI,EACzB,KAAK,aAAL,MAAK,YAAgB,KAAK,IAE1B,KAAK,GAAG,QAAU,KAAK,QACvB,KAAK,GAAG,SAAW,KAAK,QACzB,CAED,WAAW,EAAM,CACf,EAAW,EAAM,KAAK,GAAI,KAAK,OAAQ,IAAI,CAC5C,CAED,WAAY,CACV,AAAI,KAAK,OACP,MAAK,MAAQ,GAAU,KAAK,KAAK,EAEpC,CAED,SAAU,CAAE,CACZ,SAAU,CACR,MAAO,MAAK,GAAG,SAChB,CACD,WAAY,CAAE,CAEd,cAAe,CACb,GAAI,GAAM,KAAK,IAAI,KAAK,GAAI,KAAK,MAAO,KAAK,MAAO,EAAA,EAAI,IAAI,EAC5D,GAAI,EAAK,CACP,GAAI,GAAS,KAAK,GACd,EAAS,KACb,MAAI,MAAK,aAAc,QACrB,GAAS,KAAK,GAAG,GACjB,EAAS,EAAO,YAElB,EAAW,EAAQ,EAAQ,EAAK,IAAI,EAC7B,CACR,CACF,CAQD,IAAI,EAAG,EAAO,EAAQ,EAAM,CAAE,CAE9B,gBAAiB,CACf,EAAW,KAAK,YAAa,KAAM,KAAK,SAAU,IAAI,CACvD,CAED,MAAO,CAAE,CAET,GAAI,QAAQ,CACV,MAAO,MAAK,SAAU,CACvB,CACD,UAAW,CACT,MAAO,MAAK,gBAAkB,KAAK,MAAM,MAAK,EAAK,KAAK,MAAO,EAAC,SAAU,CAC3E,CAED,GAAI,OAAM,EAAO,CACf,KAAK,SAAS,CAAK,CACpB,CACD,SAAS,EAAO,CACd,AAAI,GAAU,MAA6B,GAAQ,CAAE,GACrD,AAAI,GAAS,EAAM,CAAK,EACtB,MAAK,gBAAkB,GACvB,KAAK,MAAK,EAAG,QAAQ,CAAK,GAE1B,MAAK,gBAAkB,GACvB,KAAK,MAAO,EAAC,QAAQ,CAAE,OAAK,CAAE,EAEjC,CAED,iBAAiB,EAAM,EAAU,CAC/B,KAAK,GAAG,iBAAiB,EAAM,CAAQ,CACxC,CAED,aAAa,EAAM,CACjB,MAAO,MAAK,GAAG,aAAa,CAAI,CACjC,CACD,aAAa,EAAM,EAAO,CACxB,MAAO,MAAK,GAAG,aAAa,EAAM,CAAK,CACxC,CACD,aAAa,EAAM,CACjB,MAAO,MAAK,GAAG,aAAa,CAAI,CACjC,CACD,gBAAgB,EAAM,CACpB,MAAO,MAAK,GAAG,gBAAgB,CAAI,CACpC,CACD,uBAAwB,CACtB,MAAO,MAAK,GAAG,sBAAuB,CACvC,CACD,YAAY,EAAG,CACb,EAAO,KAAK,GAAI,CAAC,CAClB,CACD,aAAa,EAAG,EAAQ,CACtB,GAAI,KAAK,aAAc,OAAO,CAC5B,KAAM,GAAK,KAAK,GAAG,GACnB,KAAK,GAAG,KAAK,EAAO,EAAG,WAAY,EAAG,CAAE,CAAC,CAC/C,KACM,GAAO,KAAK,aAAe,KAAK,GAAI,EAAG,CAAM,CAEhD,CAED,GAAI,YAAY,CACd,MAAO,MAAK,GAAG,SAChB,CACD,GAAI,QAAQ,CACV,MAAO,MAAK,GAAG,KAChB,CACD,GAAI,YAAY,CACd,MAAO,MAAK,GAAG,SAChB,CACD,GAAI,cAAc,CAChB,MAAO,MAAK,GAAG,WAChB,CACH,CAEA,EAAK,iBAAmB,GCpLjB,WAAsB,EAAM,EAAU,EAAU,CACrD,AAAI,KAAa,IAAS,IAAa,SAAW,GAAW,MACzD,IAAa,IAAM,GAAW,GAC9B,EAAK,aAAa,CAAQ,IAAM,GAClC,CAAI,IAAa,KACf,EAAK,gBAAgB,CAAQ,EAE7B,EAAK,aAAa,EAAU,CAAQ,EAG1C,CCZA,KAAM,GAAa,CAAE,EAErB,GAAI,GACA,EACA,EAaJ,KAAM,GAAe,EACf,GAAsB,EACtB,GAA4B,EAC5B,GAAuB,GAE7B,AAAI,MAAO,UAAa,KACtB,GAAc,GAAK,SAAS,eAAe,CAAC,EAC5C,EAAoB,GAClB,EAAI,SAAS,gBAAgB,6BAA8B,CAAC,EAAI,EAAS,CAAY,EACvF,EAAiB,CAAC,EAAG,IAAO,EAAI,SAAS,cAAc,EAAG,CAAC,EAAI,EAAS,CAAY,GAoBtF,YAAc,EAAO,EAAO,EAAK,EAAO,CAAA,KAAO,EAAU,CACvD,GAAI,CAAC,EAAK,MAAO,GAEjB,GAAI,EAAM,CAAG,EAAG,CACd,GAAI,EACF,MAAO,CAAE,MAAK,OAAM,UAAU,EACzB,CACL,KAAM,GAAM,EAAe,CAAG,EAC9B,SAAW,EAAM,EAAK,CAAK,EACvB,GAAY,EAAS,QAAQ,EAAW,EAAK,KAAM,EAAU,CAAK,EAC/D,CACR,CACL,KAAS,CACL,GAAI,EAAO,CAAG,EACZ,SAAO,GAAQ,CAAE,EAGV,EAAI,UAAY,GAAI,GAAI,EAAM,EAAU,CAAK,EAAI,EAAI,EAAM,EAAU,CAAK,EAIjF,EAAS,GAAqB,CAAG,CAEpC,CACH,CAEA,WAAa,EAAK,EAAO,CAAE,KAAK,EAAU,CACxC,MAAO,IAAK,GAAO,KAAM,EAAK,EAAM,GAAG,CAAQ,CACjD,CAGY,KAAC,GAAI,EAAI,KAAK,CAAU,EAGpC,EAAE,KAAO,GAAK,CACZ,KAAM,GAAM,EAAI,KAAK,CAAC,EACtB,SAAI,KAAO,EAAE,KACN,CACT,EAgBO,YAAsB,EAAO,EAAG,CACrC,MAAO,GAAE,EAAE,KAAK,CAAK,CAAC,CACxB,CA4BA,WAAmB,EAAG,CACpB,MAAI,IAAM,KAAgC,GACrC,EAAM,CAAC,EACL,EADe,GAAK,CAE7B,CAEO,WACL,EACA,EACA,EACA,EAAQ,KACR,EAAY,KACZ,EAAgB,EAChB,CAEA,GAAI,CAAC,EAAK,OAEV,GAAI,GACJ,GAAI,EAAO,CAAG,EACZ,EAAM,EAAY,EAAU,EAAK,CAAA,CAAC,EAC9B,GAAQ,EAAO,EAAQ,EAAK,CAAM,EACtC,EAAY,EAAK,EAAQ,KAAM,EAAK,CAAK,UAChC,YAAe,OACxB,EAAM,EAAI,IAAI,GAAK,EAAW,EAAQ,EAAQ,EAAG,EAAO,KAAM,CAAa,CAAC,MACvE,IAAI,YAAe,GACxB,SAAI,UAAU,CAAK,EACnB,EAAI,OAAO,EAAQ,CAAM,EAClB,EACF,GAAI,GAAO,CAAG,EACnB,AAAI,GAAQ,EAAO,EAAQ,EAAK,CAAM,UAC7B,EAAM,CAAG,EAAG,CACrB,AAAI,GAAM,EAAI,GAAG,GAAK,EAAM,iBAAQ,OAAO,IAAG,GAAgB,GAE9D,KAAM,GAAY,EAAI,MAAQ,EAAI,KAClC,AAAI,EAEF,GAAM,EAAY,MAAM,EACxB,EAAU,KAAK,EAAK,GAAM,EAAI,YAAc,CAAE,EAC1C,GAAQ,EAAO,EAAQ,EAAK,CAAM,GAEjC,GAAI,KAAK,EAAS,EAAc,CAAG,EACxC,EAAM,EAAc,EAAI,GAAG,EAC3B,EAAW,EAAI,KAAM,EAAK,EAAO,CAAS,EACtC,GAAQ,EAAO,EAAQ,EAAK,CAAM,EAElC,EAAI,UAAY,EAAI,SAAS,QAC/B,EAAW,EAAK,KAAM,EAAI,SAAU,EAAO,KAAM,CAAa,EAGtE,KACI,GAAM,EAAY,GAAK,CAAG,EACtB,GAAQ,EAAO,EAAQ,EAAK,CAAM,EAExC,MAAO,EACT,CAEO,WAAe,EAAK,CACzB,MAAO,IAAO,EAAI,YAAW,IAAO,KACtC,CAWO,WAAqB,EAAQ,EAAQ,EAAM,EAAM,EAAU,CAChE,AAAI,YAAoB,IACtB,GAAW,EAAS,MAAO,GAG7B,GAAI,GACJ,AAAI,EAAK,YACP,EAAU,EAAK,YAAY,EAAQ,EAAQ,EAAM,EAAM,CAAQ,EAE/D,CAAI,EACF,EAAU,GAAgB,EAAQ,EAAM,CAAc,EAEtD,EAAU,GAAgB,EAAQ,CAAI,EAGxC,AAAI,EAAK,WACP,EAAK,WAAW,CAAO,EAEvB,EAAS,KAAK,CAAO,EAG3B,CAEO,YAAyB,EAAM,EAAM,CAC1C,KAAM,GAAM,UAAY,CACtB,KAAM,GAAW,EAAU,GAAM,EACjC,AAAI,EAAK,cAAgB,GAAU,GAAK,YAAc,EACvD,EACD,SAAI,KAAO,EACJ,CACT,CAEO,YAAyB,EAAM,EAAM,EAAM,CAChD,KAAM,GAAM,UAAY,CACtB,EAAa,EAAM,EAAM,GAAM,CAChC,EACD,SAAI,KAAO,EACX,EAAI,KAAO,EACX,EAAI,KAAO,EACX,EAAK,EACE,CACT,CAEO,WAAoB,EAAM,EAAK,EAAM,EAAW,CACrD,GAAI,EAAC,EAEL,SAAW,KAAK,GAAM,CACpB,KAAM,GAAQ,EAAK,GAEnB,AAAI,EAAE,KAAO,KAAO,EAAE,KAAO,IAC3B,AAAI,EAAO,CAAK,EACd,EAAI,iBAAiB,EAAE,UAAU,CAAC,EAAG,EAAM,KAAK,CAAI,CAAC,EAErD,EAAS,GAA2B,CAAI,EAErC,AAAI,IAAM,MACf,GAAI,QAAU,EACT,EAAI,MACP,GAAI,KAAO,GAET,GACG,GAAU,MACb,GAAU,KAAO,GAEnB,EAAU,QAAU,IAEjB,AAAI,EAAO,CAAK,EACrB,EAAY,EAAK,KAAM,EAAG,EAAO,CAAI,EAEjC,KAAM,KACR,GAAa,EAAM,GAAa,EAAK,EAAM,CAAK,EAAI,EAAM,MAAM,GAAG,EAAI,CAAK,EAE1E,EAAI,cACN,EAAa,EAAK,EAAG,IAAM,KAAO,YAAiB,OAAQ,EAAM,KAAK,GAAG,EAAI,CAAK,EAEvF,CACH,CAEA,YAAsB,EAAM,EAAM,CAAC,EAAQ,GAAO,CAChD,GAAI,IAAS,EAAY,KAAM,GAAS,EAAoB,EAC5D,AAAI,EACG,GAAK,IAAS,GAAK,GAAU,GAAI,KACtC,EAAM,EAAK,OAAS,GAAU,EAAK,KAAO,GAAS,GAEnD,EAAM,EAAK,KAAO,GAAW,CAEjC,CClSA,KAAe,IAAA,CACb,OAAQ,cACR,OAAQ,4BACR,OAAQ,yCACR,OAAQ,oBACR,OAAQ,kCACR,OACE;AAAA;AAAA;AAAA,iCACF,OAAQ,oBACR,OAAQ,kBACR,OAAQ,qCACR,QACE,yJACJ"}