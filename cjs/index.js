var M=Object.defineProperty;var yt=Object.getOwnPropertyDescriptor;var At=Object.getOwnPropertyNames;var Et=Object.prototype.hasOwnProperty;var Nt=(t,e)=>{for(var r in e)M(t,r,{get:e[r],enumerable:!0})},Rt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of At(e))!Et.call(t,i)&&i!==r&&M(t,i,{get:()=>e[i],enumerable:!(n=yt(e,i))||n.enumerable});return t};var Ut=t=>Rt(M({},"__esModule",{value:!0}),t);var ne={};Nt(ne,{BOOL:()=>Tt,ERR_REQUIRE_FUNC:()=>oe,ERR_REQUIRE_PARENT:()=>rt,Group:()=>E,Jsx6:()=>U,NOT:()=>St,T:()=>Xt,addDirty:()=>T,applyHtml:()=>Jt,callAnim:()=>st,copyBinding:()=>gt,copyBindings:()=>jt,domToProps:()=>Gt,domWithScope:()=>Dt,eq:()=>Vt,errorMessage:()=>it,findParent:()=>re,fireEvent:()=>te,forEachProp:()=>Wt,getAttrBoolean:()=>w,getValue:()=>tt,h:()=>B,insertAttr:()=>C,insertBefore:()=>y,insertHtml:()=>N,insertSvg:()=>$t,isArray:()=>k,isFunc:()=>l,isNode:()=>Q,isObj:()=>a,isStr:()=>O,isSvg:()=>b,isVisible:()=>bt,makeAttrUpdater:()=>at,makeBinding:()=>kt,makeNodeUpdater:()=>mt,makeState:()=>W,makeUpdater:()=>j,mapProp:()=>h,mapPropArray:()=>Yt,moveParams:()=>ee,refreshTranslations:()=>Qt,requireFunc:()=>F,runDirty:()=>ut,runFunc:()=>q,setAnimFunction:()=>_t,setAttrBoolean:()=>R,setEnabled:()=>ht,setHtmlFunctions:()=>Lt,setSelected:()=>dt,setTranslations:()=>Pt,setValue:()=>et,setVisible:()=>xt,svg:()=>Kt,t:()=>$,throwErr:()=>g,toDomNode:()=>P,toggleAttrBoolean:()=>Zt,tpl:()=>It,value:()=>D});module.exports=Ut(ne);var oe=7,rt=8,nt={},E=class{};function Pt(t){Object.assign(nt,t)}function $(t){return nt[t]||t}var it=t=>$("JSX6E"+t),g=(t,e)=>{let r=it(t);throw console.error(r,e),new Error(r)},St=t=>!t,Tt=t=>!!t,l=t=>typeof t=="function",O=t=>typeof t=="string",a=t=>typeof t=="object",k=t=>t instanceof Array,Q=t=>t.nodeType!==void 0,F=(t,e=7)=>((!t||!l(t))&&g(e,{func:t}),t),q=(t,e=[])=>{try{t(...e)}catch(r){console.error(r,t,e)}};var Bt=4,ot=5,wt=6,v=new Set,z=!1,X=!1,Y;typeof document<"u"&&(Y=window.requestAnimationFrame);function _t(t){Y=t}function st(t){Y(t)}function Vt(...t){return t.length>1?D(t[0])===D(t[1]):e=>D(t[0])===D(e)}function D(t){return t&&l(t)?t():t}function T(t){if(X&&g(Bt),t instanceof Array){t.forEach(T);return}F(t,ot),v.add(t),z||(z=!0,st(ut))}function ut(){X=!0,v.forEach(t=>q(t)),v.clear(),z=!1,X=!1}function Ot(t,e){t.forEach(r=>r(...e))}function kt(t,e,r,n){let i=[],o=t;function f(m){return l(m)?J(()=>m(o),r,e,i):(arguments.length&&p(o),o)}let A=J(f,r,e,i),p=m=>{m!==o&&(o=m,A.dirty())};return r&&Object.defineProperty(r,e,{get:()=>o,set:p}),r&&n&&(r["$"+e]=f),A}function J(t,e,r,n){return t.isBinding=!0,t.update=i=>e[r]=i(e[r]()),t.addUpdater=i=>n.push(o=>i(t(o))),t.sync=i=>{i(e[r]()),n.push(()=>i(e[r]()))},t.dirty=()=>{n.length&&T(()=>Ot(n,[e[r]]))},t.state=e,t.propName=r,t}function W(t={},e){let r=[],n={},i={},o={},f=new Map;function A(){let u=r.length;for(let s=0;s<u;s++)try{r[s](_,f,I)}catch(c){console.error(c)}f.clear()}function p(){r.length&&T(A)}let m={set:function(u,s,c,x){return V(s,c)&&p(),!0},get:function(u,s){return t[s]}},I=new Proxy(t,m),_=new Proxy(H,{set:function(u,s,c,x){return V(s,c)&&p(),!0},get:function(u,s){if(s==="toJSON")return()=>t;if(!o[s]){n[s]=[],i[s]=()=>n[s].forEach(S=>q(S,[t[s]]));let c=function(S){if(arguments.length!==0){if(l(S))return x(S);V(s,S)&&p()}return t[s]},x=S=>J(()=>S(t[s]),_,s,n[s]);c.get=c.set=c,c.toString=()=>g(wt,s),o[s]=J(c,_,s,n[s])}return o[s]}});function H(u){if(arguments.length)if(l(u)){let s=(...c)=>u(...c);return s.addUpdater=c=>r.push(F(c,ot)),s}else if(a(u))d.update(u);else return u;else return d}function V(u,s,c){return c||t[u]!==s?(f.set(u,t[u]),t[u]=s,n[u]&&T(i[u]),!0):!1}function d(){return I}return Object.defineProperty(d,"value",{get:d}),d.toJSON=()=>t,d.push=d.addUpdater=u=>r.push(u),d.dirty=p,d.getValue=()=>({...t}),d.list=r,d.update=(u,s)=>{if(!u)return;let c=!1;for(let x in u)c|=V(x,u[x],s);c&&p()},d.replace=(u,s)=>{if(!u)return;let c=!1;for(let x in u)c|=V(x,u[x],s);for(let x in t)x in u||(c|=V(x,void 0,s));c&&p()},e&&p(),_}function P(t){return t&&t.isJsx6?t.el:t}function y(t,e,r){t||g(8,{parent:t,newChild:e,before:r});let n=t.insertBefore?t:P(t);n.insertBefore||console.error("missing insertBefore",n,t),e.__init&&e.__init();try{let i=P(e);i instanceof Array&&(i=i[0]),n.insertBefore(i,P(r)),e.insertSelf&&e.insertSelf()}catch(i){throw console.error("parent",t,"newChild",e,"before",r),i}return e}var U=class{isJsx6=!0;el;contentArea;propKey;groupKey;parent;tagName="DIV";cName="";state={};constructor(e,r,n){e||={},this.$h=B.bind(this),this.attr=e,this.children=r,this.parent=n,e.tagName!==void 0&&(this.tagName=e.tagName,delete e.tagName)}__init(){this.__initialized||(this.createEl(),this.initTemplate(),this.insertChildren(),this.init(this.state),this.__initialized=!0)}setParent(e){e===window&&console.error("window as parent ",this),this.parent=e}createEl(){this.initState(),this.tagName?(this.el=N(null,null,{tag:this.tagName},this),this.cName&&this.classList.add(this.cName)):this.el=[document.createTextNode("")],this.insertAttr(this.attr),this.contentArea||=this.el,this.el.propKey=this.propKey,this.el.groupKey=this.groupKey}insertAttr(e){C(e,this.el,this.parent,this)}initState(){this.state&&(this.state=W(this.state))}created(){}destroy(){delete this.el.component}destroyed(){}initTemplate(){let e=this.tpl(this.$h,this.state,this.state()(),this);if(e){let r=this.el,n=null;return this.el instanceof Array&&(n=this.el[0],r=n.parentNode),N(r,n,e,this),e}}tpl(){}insertChildren(){N(this.contentArea,null,this.children,this)}init(){}get value(){return this.getValue()}getValue(){return this.jsx6SingleValue?this.state.value():this.state().getValue()}set value(e){this.setValue(e)}setValue(e){e==null&&(e={}),e&&a(e)?(this.jsx6SingleValue=!1,this.state().replace(e)):(this.jsx6SingleValue=!0,this.state().replace({value:e}))}addEventListener(e,r){this.el.addEventListener(e,r)}getAttribute(e){return this.el.getAttribute(e)}setAttribute(e,r){return this.el.setAttribute(e,r)}hasAttribute(e){return this.el.hasAttribute(e)}removeAttribute(e){return this.el.removeAttribute(e)}getBoundingClientRect(){return this.el.getBoundingClientRect()}appendChild(e){y(this.el,e)}insertBefore(e,r){if(this.el instanceof Array){let n=this.el[0];this.el.push(y(n.parentNode,e,n))}else y(this.contentArea||this.el,e,r)}get classList(){return this.el.classList}get style(){return this.el.style}get innerHTML(){return this.el.innerHTML}get textContent(){return this.el.textContent}};U.isComponentClass=!0;var Ft={},G,K,L,Z=1,Ct=2;typeof document<"u"&&(G=t=>document.createTextNode(t),L=t=>t?document.createElementNS("http://www.w3.org/2000/svg",t):g(Z),K=(t,e)=>t?document.createElement(t,e):g(Z));function Lt(t,e,r){G=t,K=e,L=r}function It(t,e={},...r){return ft(!0,this,t,e,r)}function ft(t,e,r,n={},...i){if(!r)return i;if(O(r)){if(t)return{tag:r,attr:n,children:i};{let o=K(r);return C(n,o,e),i&&i.length&&N(o,null,i,e),o}}else if(l(r)){if(r.isComponentClass)return new r(n,i,e);{let o=new U(n,i,e);return o.tpl=r,o}}else g(Ct,r)}function ct(t,e={},...r){return ft(!1,this,t,e,...r)}var B=ct.bind(Ft);B.bind=t=>{let e=ct.bind(t);return e.bind=B.bind,e};function Dt(t,e){return e(B.bind(t))}function Gt(t){let e={};return t(B.bind(e)),e}var Kt=t=>t(Ht);function Ht(t,e={},...r){if(!t)return r;let n=L(t);return C(e,n),N(n,null,r,this,null,L),n}function $t(t,e,r,n=this,i=null,o=K){return N(t,e,r,n,i,L)}function lt(t){return t==null?"":O(t)?t:""+t}function N(t,e,r,n=this,i=null,o=K){if(!r)return;let f;if(l(r))f=G(lt(r())),t&&y(t,f,e),j(f,e,null,r,n);else if(r instanceof Array)f=r.map(A=>N(t,e,A,n,null,o));else{if(r instanceof U)return r.setParent(n),r.__init(),y(t,r,e),r;if(Q(r))t&&y(t,r,e);else if(a(r)){(b(r.tag)||b(t?.tagName))&&(o=L);let A=r.then||r.next;A?(f=G("aaaa"),A.call(r,p=>f.textContent=p),t&&y(t,f,e)):(r.tag||g(Z,r),f=o(r.tag),C(r.attr,f,n,i),t&&y(t,f,e),r.children&&r.children.length&&N(f,null,r.children,n,null,o))}else f=G(""+r),t&&y(t,f,e)}return f}function b(t){return t&&t.toUpperCase()==="SVG"}function j(t,e,r,n,i){i instanceof U&&(i=i.state());let o;n.makeUpdater?o=n.makeUpdater(t,e,r,n,i):(r?o=at(t,r,n,i):o=mt(t,n),n.addUpdater?n.addUpdater(o):i.push(o))}function mt(t,e){let r=function(){let n=lt(e());t.textContent!==n&&(t.textContent=n)};return r.node=t,r}function at(t,e,r){let n=function(){let i=r();t.getAttribute(e)!==i&&(i===!1||i===null||i===void 0?t.removeAttribute(e):t.setAttribute(e,i))};return n.node=t,n.attr=e,n.func=r,n(),n}function C(t,e,r,n){if(!!t)for(let i in t){let o=t[i];i[0]==="o"&&i[1]==="n"&&l(o)?e.addEventListener(i.substring(2),o.bind(r)):i==="key"?(e.loopKey=o,e.$key||(e.$key=o),n&&(n.$key||(n.$key=o),n.loopKey=o)):l(o)?j(e,null,i,o,r):(i==="p"&&qt(r,n||e,O(o)?o.split("."):o),e.setAttribute&&e.setAttribute(i,i==="p"&&o instanceof Array?o.join("."):o))}}function qt(t,e,[r,n]){n?(t[r]||(t[r]=new E),t[e.$group=r][e.$key=n]=e):t[e.$key=r]=e}function Jt(t,e,r=this){O(t)&&(t=document.getElementById(t));function n(i){let o=i.firstElementChild;for(;o;)n(o),o=o.nextElementSibling;i?.component?.destroy()}n(t),t.innerHTML="",N(t,null,e,r)}var Mt=3,pt=[];function Qt(){T(vt)}var vt=()=>pt.forEach(t=>t());function zt(t){F(t,Mt),pt.push(t)}function Xt(t){let e=()=>$(t);return e.addUpdater=zt,e}var Yt=(t,e)=>h(t,e,!0);function h(t,e,r){if(t){if(a(t)){let n=k?[]:{};if(r)for(let i in t)n.push(e(t[i],i,t));else{let i={};for(let o in t)i[o]=e(t[o],o,t)}return n}else if(k(t))return t.map(e)}}function tt(t){if(t==null)return t;if(l(t.getValue))return t.getValue();if(l(t))return tt(t());if(t instanceof window.Element){if(t.tagName==="INPUT"&&t.type==="checkbox")return t.checked}else if(typeof t=="object")return h(t,tt);return t.value}function et(t,e){if(t==null)return t;if(l(t.setValue))return t.setValue(e);if(l(t))return et(t(),e);t instanceof window.Element?t.tagName==="INPUT"&&t.type==="checkbox"?t.checked=e:t.value=e:(e=e||{},h(e,(r,n)=>{t[n]&&et(t[n],e[n])}))}function Wt(t,e){if(t)if(a(t))for(let r in t)e(t[r],r,t);else k(t)&&t.forEach(e)}function R(t,e,r){if(t){if(t.setAttribute)r?t.hasAttribute(e)||t.setAttribute(e,e):t.hasAttribute(e)&&t.removeAttribute(e);else if(t instanceof U)R(t.el,e,r);else if(a(t))for(let n in t)R(t[n],e,n===r)}}function w(t,e,r){if(t)if(t.getAttribute){let n=!!t.hasAttribute(e);return r&&(n=!n),n}else{if(t.el)return w(t.el,e,r);if(t&&a(t))return h(t,n=>w(n,e,r))}}function Zt(t,e,r){return r===void 0&&(r=!w(t,e)),R(t,e,r),r}function ht(t,e){!t||(t instanceof E?h(t,(r,n)=>ht(r,n===e)):R(t,"disabled",!e))}function dt(t,e){!t||(t instanceof E?h(t,(r,n)=>dt(r,n===e)):R(t,"selected",e))}function xt(t,e){!t||(t instanceof E?h(t,(r,n)=>xt(r,n===e)):R(t,"hidden",!e))}function bt(t,e){return w(t,"hidden",!0)}function gt(t,e,r={},n,i){let{required:o=n,callback:f,def:A,keep:p=i}=r,m=t[e],I=_=>{let H=()=>_;return H.addUpdater=()=>{},H};if(m)l(m)||(m=I(m)),f&&m.addUpdater(f);else{if(o)throw new Error('"'+e+'" binding not provided');m=I(A)}return p||delete t[e],m}function jt(t,e,r={},n,i){for(let o in t)r[o]=gt(e,o,t[o],n,i);return r}function te(t,e,r,n){P(t).dispatchEvent(new CustomEvent(e,{detail:r,...n}))}function ee(t,e,r={}){for(let n in t)n in e?(r[n]=e[n],delete e[n]):r[n]=t[n];return r}function re(t,e,r){let n=P(t);for(;n&&!(r&&r(n));){if(e(n))return n;n=n.parentNode}}
//# sourceMappingURL=index.js.map
